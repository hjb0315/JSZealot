<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
	<head>
		<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
		<title>New Web Project</title>
		<script language="javascript">
		/*
		 * 변수 및 함수 네이밍 - 의미를 잘나타내지 못함, 카멜 표기법과 _ 표기법을 동시에 사용 
		 * 
		 * 
		 */
			var comp = new Array(3);
			var user = new Array(3);
			function click1() {

				user[0] = document.getElementById("num1").value;
				user[1] = document.getElementById("num2").value;
				user[2] = document.getElementById("num3").value;

				if(!jungbok(user) || !is_ok()) { /** 입력 오류이면 프로그램을 멈추고 다시 입력받아야지 그대로 진행함 **/
					alert("값을 잘못입력 하셧습니다.");
				}
				makeNumb();
				comp123();
			}

			function jungbok(num) {// 중복 검사

				var temp = new Array(3);
				for(var i = 0; i < 3; i++) {
					temp[i] = num[i];
				}
				temp.sort();
				// 정렬
				for(var j = 0; j < temp.length - 1; j++) {
					var m = j + 1;

					if(temp[j] == temp[m]) {
						return false;
					}
				}
				temp = null;
				// 다음번 실행을 위해 초기화     /** 초기화 왜함? **/
				return true;
			}

			function comp123() {// 두수 비교

				var Scounter = 0;  /** 명명법이 이상함 **/
				var Bcounter = 0;
				for(var i = 0; i < 3; i++) {
					if(comp[i] == user[i]) {
						Scounter++;
					}
				}
				comp.sort();
				user.sort();
				for(var i = 0; i < 3; i++) {
					if(comp[i] == user[i]) {
						Bcounter++;
					}
				}
				Bcounter -= Scounter;
				if(Scounter == 3) {
					alert("다맞추셧습니다.!");
				} else if(Scounter == 0 && Bcounter == 0) {
					alert("아웃!");
				} else {
					alert(Scounter + "스트라이크" + Bcounter + "볼")
				}
			}

			function makeNumb() {// 랜덤하게 숫자 생성
				for(var i = 0; i < comp.length; i++) {
					comp[i] = Math.ceil(Math.random() * 9);
				}
				if(!jungbok(comp)) {  /** 하나라도 중복되면 다시 처음부터 만들어????? 불필요한 재귀함수 사용 **/
					makeNumb();
				}
				console.log(comp); /** kingear 추가 **/
			}
			function is_ok() {
				for(i=0;i<3;i++) {
					if(user[i]>=0 && user[i]<9) {
						return true;
					}
					else {
						return false;
					}
				}
			}
		</script>
	</head>
	<body>
		<div align="center">
			야구 게임 입니다.
			<br>
			중복되지 않은 숫자 0~9까지 입력 하세요.
			<br>
			<form name="bbgame">
				<input type="text" size="1" id="num1">
				<input type="text" size="1" id="num2">
				<input type="text" size="1" id="num3">
				<input type="button" value="입력" onclick="click1()">
				<br>
			</form>
		</div>
	</body>
</html>
